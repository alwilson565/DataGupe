# DataGupe Todo API

A .NET 8 Web API for managing a Todo list, using Supabase as the backend database. Includes integration and unit tests.

---

## Table of Contents

- [Overview](#overview)
- [Prerequisites](#prerequisites)
- [Supabase Setup](#supabase-setup)
  - [Create a Supabase Account](#create-a-supabase-account)
  - [Create a Supabase Project](#create-a-supabase-project)
  - [Create the `todolist` Table](#create-the-todolist-table)
  - [Insert Sample Data](#insert-sample-data)
  - [Get Your API Keys](#get-your-api-keys)
- [Project Configuration](#project-configuration)
- [Running the API](#running-the-api)
- [Running the Tests](#running-the-tests)
- [Troubleshooting](#troubleshooting)
- [Resources](#resources)

---

## Overview

This project exposes a REST API for managing Todo items, with data persisted in a Supabase PostgreSQL database. Integration tests are provided to verify API and database connectivity.

---

## Prerequisites

- [.NET 8 SDK](https://dotnet.microsoft.com/download)
- [Visual Studio 2022](https://visualstudio.microsoft.com/vs/)
- [Supabase account](https://supabase.com/)
- (Optional) [pgAdmin](https://www.pgadmin.org/) or another PostgreSQL client

---

## Supabase Setup

### Create a Supabase Account

1. Go to [https://supabase.com/](https://supabase.com/).
2. Click **Start your project** and sign up with your email.
3. Verify your email and log in.

### Create a Supabase Project

1. In the Supabase dashboard, click **New Project**.
2. Enter a **Project Name**, **Database Password**, and select a region.
3. Click **Create new project** and wait for initialization.

### Create the `todolist` Table

1. In your Supabase project dashboard, go to **Table Editor** > **New Table**.
2. Set the table name to `todolist`.
3. Add the following columns:

   | Name      | Type      | Primary Key | Default           |
   |-----------|-----------|-------------|-------------------|
   | id        | integer   | Yes         | auto-increment    |
   | createdat | timestamp | No          | now()             |
   | name      | text      | No          |                   |

4. Alternatively, run this SQL in the **SQL Editor**:

### Insert Sample Data

In the **SQL Editor**, run:
```sql
create table public."ToDoLists" (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  name character varying null,
  constraint ToDoLists_pkey primary key (id)
) TABLESPACE pg_default;
GO
INSERT INTO "public"."ToDoLists" ("id", "created_at", "name") VALUES ('1', '2025-05-30 15:10:35.787159+00', 'Your Shopping');
```
### Get Your API Keys

1. In your Supabase project, go to **Project Settings** > **API**.
2. Copy the **Project URL** and **anon public key**.
3. Use these values in your project configuration or test setup:

---

## Project Configuration

1. Clone this repository.
2. Open the solution in Visual Studio 2022.
3. Update your Supabase URL and anon key in the test setup or configuration files as needed.

---

## Running the API

1. Build the solution in Visual Studio.
2. Run the API project (`DataGupe`) using `F5` or `Ctrl+F5`.
3. The API will be available at `https://localhost:<port>/Todo`.

---

## Running the Tests

1. Open the Test Explorer in Visual Studio (`Test > Test Explorer`).
2. Run all tests. Integration tests will connect to your Supabase instance and verify data access.

---

## Troubleshooting

- Ensure your Supabase credentials are correct and the database is running.
- If you get connection errors, check your network and Supabase project status.
- Make sure the `todolist` table and sample data exist in your Supabase database.

---

## Resources

- [Supabase Documentation](https://supabase.com/docs)
- [ASP.NET Core Documentation](https://docs.microsoft.com/aspnet/core)